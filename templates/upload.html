<!DOCTYPE html>
<html>
  <head>
    <title>FakeTube</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
    <script src="{{ url_for('static', filename='js/commonActions.js') }}"></script>
    <script src="{{ url_for('static', filename='js/userActions.js') }}"></script>

  </head>
  <body>
    
    <div id="pageContainer">

      <div id="mastHeadContainer">
        <button class="navShowHide">
          <img src="{{ url_for('static', filename='images/icons/menu.png') }}">
        </button>

        <a class="logoContainer" href="{{ url_for('index') }}">
          <img src="{{ url_for('static', filename='images/icons/VideoTubeLogo.png') }}" title="logo" alt="Site logo">
        </a>

        <div class="searchBarContainer">
          <form action="{{ url_for('search') }}" method="GET">
            <input type="text" class="searchBar" name="term" placeholder="Search...">
            <button class="searchButton">
              <img src="{{ url_for('static', filename='images/icons/search.png') }}">
            </button>
          </form>
        </div>

        <div class="rightIcons">
          {% if current_user.is_authenticated %}
          <a href="{{ url_for('upload') }}">
            <img class="upload" src="{{ url_for('static', filename='images/icons/upload.png') }}">
          </a>
          <a href="{{ url_for('profile', username=current_user.username) }}">
            <img src="{{ url_for('static', filename='images/profilePictures/default.png') }}" class='profilePicture'>
          </a>
          {% else %}
          <a href="{{ url_for('signin') }}">
            <span class='signInLink'>SIGN IN</span>
          </a>
          {% endif %}
        </div>

      </div>

      <div id="sideNavContainer" style="display:none;">

      </div>

      <div id="mainSectionContainer">
        <div id="mainContentContainer">
          <div class="column">
            <form action='#process' method='POST' enctype='multipart/form-data'>
              {{ form.csrf_token() }}

              <div class='form-group'>
                {{ form.video.label(id='exampleFormControlFile1') }}
                {{ form.video(class='form-control-file', id='exampleFormControlFile1') }}
              </div>

              <div class='form-group'>
                {{ form.title(class='form-control', placeholder=form.title.label.text) }}
              </div>

              <div class='form-group'>
                {{ form.description(class='form-control', placeholder=form.description.label.text) }}
              </div>

              <div class='form-group'>
                {{ form.is_private(class='form-control') }}
              </div>

              <div class='form-group'>
                {{ form.category(class='form-control') }}
              </div>

              <button type='submit' class='btn btn-primary' name='saveButton'>Save</button>
            </form>
          </div>
        
          <script>
            $("form").submit(function() {
              $("#loadingModal").modal("show");
            });
          </script>
          <div class="modal fade" id="loadingModal" tabindex="-1" role="dialog" aria-labelledby="loadingModal" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
              
                <div class="modal-body">
                  Please wait. This might take a while.
                  <img src="{{ url_for('static',filename='images/icons/loading-spinner.gif') }}">
                </div>        
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>